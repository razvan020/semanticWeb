<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Add Book</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <script>
      // Front‑end guard: exact two different themes, at least one level
      function validateForm(e) {
        const themes = document.querySelectorAll('select[name="theme"]');
        const t0 = themes[0].value, t1 = themes[1].value;
        if (!t0 || !t1 || t0 === t1) {
          alert("Please select two *different* themes.");
          e.preventDefault();
          return false;
        }
        const levels = document.querySelectorAll('input[name="levels"]:checked');
        if (levels.length < 1) {
          alert("Please select at least one reading level.");
          e.preventDefault();
          return false;
        }
        return true;
      }
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Add a New Book</h1>
      <form method="post" onsubmit="validateForm(event)">

        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required />

        <!-- pick exactly two themes -->
        <label for="theme1">Theme 1:</label>
        <select id="theme1" name="theme" required>
          <option value="">— Select a theme —</option>
          <option>Science Fiction</option>
          <option>Mystery</option>
          <option>Fantasy</option>
          <option>Historical</option>
          <option>Romance</option>
          <option>Thriller</option>
        </select>

        <label for="theme2">Theme 2:</label>
        <select id="theme2" name="theme" required>
          <option value="">— Select a theme —</option>
          <option>Science Fiction</option>
          <option>Mystery</option>
          <option>Fantasy</option>
          <option>Historical</option>
          <option>Romance</option>
          <option>Thriller</option>
        </select>
        <small style="display:block; margin-bottom:1em;">
          *You must choose two different themes*
        </small>

        <!-- pick 1–3 reading levels -->
        <fieldset style="border:none; margin-bottom:1em;">
          <legend><strong>Reading Levels (pick 1–3):</strong></legend>
          <label>
            <input type="checkbox" name="levels" value="Beginner" />
            Beginner
          </label><br/>
          <label>
            <input type="checkbox" name="levels" value="Intermediate" />
            Intermediate
          </label><br/>
          <label>
            <input type="checkbox" name="levels" value="Advanced" />
            Advanced
          </label>
        </fieldset>

        <input type="submit" value="Add Book" />
      </form>

      <br />
      <a href="{{ url_for('index') }}">← Back to Home</a>
    </div>
  </body>
</html>
